import React, { useEffect, useState } from "react";
import styled from "styled-components";
import { Link } from "react-router-dom";
const NavBarWrap = styled.div`
  background-color: white;
  height: calc(100vh);
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-gap: 10px;
  /* box-shadow: 0 4px 6px 0 rgba(148, 148, 148, 0.19),
    0 6px 20px 0 rgba(148, 148, 148, 0.19); */
  border-right: 0.5px solid #e2e2e2;
`;
const MainBar = styled.div`
  grid-column: span 2 / auto;
  background-color: #f7f6fc;
  width: 60px;
  border-radius: 10px;
  margin: 25px 5px 25px 25px;
  height: calc(100vh - 50px);
  text-align: center;
  display: inline-block;
  svg {
    margin: 15px 0px;
  }
`;
const MainBarBottom = styled.div`
  margin-top: 50px;
`;
const SubBar = styled.div`
  grid-column: span 4 / auto;
  background-color: white;
  height: 100%;
  margin-right: 20px;
  display: inline-block;
`;
const Title = styled.div`
  background-color: #f7f6fc;
  height: 30px;
  width: 100%;
  font-size: 13px;
  text-align: center;
  line-height: 30px;
  border-radius: 5px;
`;
const SubItem = styled.div`
  font-size: 12px;
  margin: 20px 0px;
  height: 25px;
  line-height: 25px;
  cursor: default;
  border-radius: 3px;
  display: flex;
  align-items: center;
`;

type Props = {};

const NavBar = (props: Props) => {
  // 导航栏颜色
  const [navColor, setnavColor] = useState([
    "#2c2c2c",
    "#2c2c2c",
    "#2c2c2c",
    "#2c2c2c",
  ]);

  // 渲染子菜单列表
  const [subMenu, setSubMenu] = useState(["总计订单", "维修中"]);

  const changeBarColor = (index: number) => {
    let old = [...navColor];
    old.forEach((item, ind) => {
      if (ind === index) {
        old[ind] = "#e4b1fb";
      } else {
        old[ind] = "#2c2c2c";
      }
    });
    setnavColor(old);
  };

  useEffect(() => {
    if (window.location.pathname === "/" && navColor[0] !== "#e4b1fb") {
      let old = [...navColor];
      old[0] = "#e4b1fb";
      setnavColor(old);
    }
  }, navColor);

  return (
    <NavBarWrap>
      <MainBar>
        <div>
          <svg
            className="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4377"
            width="40"
            height="40"
          >
            <path
              d="M423.099183 798.27957h198.193548v126.623656c0 54.728946-44.373333 99.096774-99.096774 99.096774-54.734452 0-99.096774-44.367828-99.096774-99.096774v-126.623656z"
              fill="#C5AC95"
              p-id="4378"
            ></path>
            <path
              d="M132.850237 588.051269c0 48.436301 39.264344 87.700645 87.700645 87.700645 48.430796 0 87.69514-39.264344 87.69514-87.700645 0-48.430796-39.264344-87.69514-87.700646-87.69514-48.430796 0-87.69514 39.264344-87.695139 87.700645z"
              fill="#C9AB90"
              p-id="4379"
            ></path>
            <path
              d="M151.524473 296.475527c-10.625376 67.066495 9.469247 131.908817 49.862194 180.201978 53.820559-33.384602 93.349161-89.093505 104.035096-156.550881 10.625376-67.066495-9.469247-131.908817-49.862193-180.201979C201.739011 173.309247 162.210409 229.018151 151.524473 296.475527z"
              fill="#4D4132"
              p-id="4380"
            ></path>
            <path
              d="M487.225806 170.666667h11.010753c158.108903 0 286.27957 128.170667 286.27957 286.27957v198.193548c0 158.108903-128.170667 286.27957-286.27957 286.27957h-11.010753c-158.108903 0-286.27957-128.170667-286.279569-286.27957V456.946237c0-158.108903 128.170667-286.27957 286.279569-286.27957z"
              fill="#EBD3BD"
              p-id="4381"
            ></path>
            <path
              d="M503.741935 0c115.893677 0 215.700645 68.872258 260.74013 167.913978C719.448086 266.955699 619.635613 335.827957 503.741935 335.827957h-27.526881c-115.888172 0-215.700645-68.866753-260.734624-167.908473C260.514409 68.872258 360.315871 0 476.215054 0h27.526881z"
              fill="#4D4132"
              p-id="4382"
            ></path>
            <path
              d="M869.243871 328.979269c11.214452 70.79914-12.210925 139.076817-57.740387 187.590193-60.471054-31.551312-105.736258-90.343226-117.225979-162.882064-11.208946-70.79914 12.221935-139.076817 57.745893-187.590194 60.471054 31.551312 105.736258 90.343226 117.225978 162.882065z"
              fill="#4D4132"
              p-id="4383"
            ></path>
            <path
              d="M717.493677 582.545892c0 48.436301 39.264344 87.700645 87.69514 87.700646s87.700645-39.264344 87.700645-87.700646c0-48.430796-39.269849-87.69514-87.700645-87.695139s-87.700645 39.264344-87.700645 87.700645z"
              fill="#EBD3BD"
              p-id="4384"
            ></path>
            <path
              d="M766.210753 578.306753a38.978065 38.978065 0 1 0 77.956129 0.016516 38.978065 38.978065 0 0 0-77.956129-0.016516z"
              fill="#E89E80"
              p-id="4385"
            ></path>
            <path
              d="M220.545376 516.431828a77.956129 77.956129 0 1 0 155.906753 0c0-43.052043-34.904086-77.950624-77.956129-77.950624s-77.950624 34.904086-77.950624 77.956129z"
              fill="#FFFFFF"
              p-id="4386"
            ></path>
            <path
              d="M254.018065 515.79871a34.105806 34.105806 0 1 0 68.211612 0 34.105806 34.105806 0 0 0-68.211612 0z"
              fill="#514141"
              p-id="4387"
            ></path>
            <path
              d="M493.380817 516.431828c0 43.052043 34.904086 77.956129 77.956129 77.956129s77.945118-34.904086 77.945119-77.956129-34.898581-77.950624-77.950624-77.950624-77.956129 34.904086-77.956129 77.956129z"
              fill="#FFFFFF"
              p-id="4388"
            ></path>
            <path
              d="M526.853505 515.79871a34.105806 34.105806 0 1 0 68.206108 0 34.105806 34.105806 0 0 0-68.211613 0z"
              fill="#514141"
              p-id="4389"
            ></path>
            <path
              d="M217.462366 363.354839m27.526881 0l121.11828 0q27.526882 0 27.526882 27.526881l0 0q0 27.526882-27.526882 27.526882l-121.11828 0q-27.526882 0-27.526881-27.526882l0 0q0-27.526882 27.526881-27.526881Z"
              fill="#4D4132"
              p-id="4390"
            ></path>
            <path
              d="M481.72043 363.354839m27.526882 0l121.118279 0q27.526882 0 27.526882 27.526881l0 0q0 27.526882-27.526882 27.526882l-121.118279 0q-27.526882 0-27.526882-27.526882l0 0q0-27.526882 27.526882-27.526881Z"
              fill="#4D4132"
              p-id="4391"
            ></path>
            <path
              d="M342.583054 743.682753C388.855742 761.729376 420.550194 770.752688 437.677419 770.752688c17.490581 0 54.883097-9.414194 112.177549-28.23157a11.010753 11.010753 0 0 1 14.446107 10.460215v20.821334a11.010753 11.010753 0 0 1-7.580903 10.460215C494.669075 804.616258 454.980817 814.795699 437.677419 814.795699c-17.231828 0-51.607398-10.091355-103.115699-30.274065A11.010753 11.010753 0 0 1 327.569892 774.276129v-20.325849a11.010753 11.010753 0 0 1 15.013162-10.262022z"
              fill="#E89E80"
              p-id="4392"
            ></path>
          </svg>
        </div>
        <MainBarBottom>
          <div>
            <Link
              to="/home"
              onClick={() => {
                changeBarColor(0);
              }}
            >
              <svg
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="9975"
                width="20"
                height="20"
              >
                <path
                  d="M149.333333 960a85.333333 85.333333 0 0 1-85.333333-85.333333V331.221333a85.333333 85.333333 0 0 1 48.64-77.056l362.666667-172.693333a85.333333 85.333333 0 0 1 73.386666 0l362.666667 172.693333A85.333333 85.333333 0 0 1 960 331.221333V874.666667a85.333333 85.333333 0 0 1-85.333333 85.333333H149.333333zM505.386667 138.24l-2.56 1.024-362.666667 172.693333a21.333333 21.333333 0 0 0-11.989333 16.554667L128 331.221333V874.666667a21.333333 21.333333 0 0 0 18.837333 21.184L149.333333 896h192V661.333333a85.333333 85.333333 0 0 1 85.333334-85.333333h170.666666a85.333333 85.333333 0 0 1 85.333334 85.333333v234.666667h192a21.333333 21.333333 0 0 0 21.184-18.837333L896 874.666667V331.221333a21.333333 21.333333 0 0 0-9.792-17.941333l-2.368-1.322667-362.666667-172.693333a21.333333 21.333333 0 0 0-15.786666-1.024zM597.333333 640h-170.666666a21.333333 21.333333 0 0 0-21.184 18.837333L405.333333 661.333333v234.666667h213.333334V661.333333a21.333333 21.333333 0 0 0-18.837334-21.184L597.333333 640z"
                  fill={navColor[0]}
                  p-id="9976"
                ></path>
              </svg>
            </Link>
          </div>
          <div>
            <Link
              to="/fix"
              onClick={() => {
                changeBarColor(1);
              }}
            >
              <svg
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="7048"
                width="30"
                height="30"
              >
                <path
                  d="M285.5 851.1c-20.5 0-44.7-11-61.8-28-17.6-17.6-27.3-40.1-27.3-63.3s9.7-45.8 27.3-63.3l212.6-209.6c-3.7-11.3-6.4-22.8-8.9-38-6.7-55.2 10.3-109.8 46.4-150.6 36.4-41.1 88.6-64.7 143.2-64.7 17.1 0 38.5 0 57.9 7.8 11.3 5.6 18.5 15.5 20.3 26.6 1.5 9-1.1 17.5-7 23.4L593.5 386l61 61 97-97 3.1-1.5c11.5-5.8 20.8-4.7 26.6-2.7 7.4 2.5 13.6 7.9 17.2 15.3l0.7 1.6c7 17.5 10.5 37.7 13.8 64.6l0.2 2.6c0 53.5-21.9 103-61.7 139.4-40.7 37.1-95.9 55.6-152 50.4l-2.2-0.3c-12.1-2.4-24.5-4.9-37.2-8.9L350.5 823c-17.9 17.9-41.6 28.1-65 28.1zM617 275.6c-42.6 0-83.3 18.4-111.8 50.5-28.6 32.3-41.5 73.8-36.3 116.8 2.9 17.4 5.7 28.1 11.2 41.7l5.2 13-232 228.7c-9.7 9.7-14.9 21.3-14.9 33.5s5.2 23.8 15 33.6c9 9 22.8 15.7 32.1 15.7 5.8 0 21-1.5 35.2-15.7l228.7-231.9 13 5.2c13.5 5.4 27.4 8.2 42.1 11.2 43.6 3.7 87.1-10.8 118.8-39.7 30.7-28 47.7-66 48-107.1-1.7-13.9-3.5-25.6-5.8-35.5L681.9 479c-14.6 14.6-40.2 14.6-54.7 0l-65.7-65.7c-14.6-14.6-14.6-40.1 0-54.7l82.1-82.1c-8.4-0.9-17.8-0.9-26.6-0.9z"
                  fill={navColor[1]}
                  p-id="7049"
                ></path>
              </svg>
            </Link>
          </div>
          <div>
            <Link
              to="/warehouse"
              onClick={() => {
                changeBarColor(2);
              }}
            >
              <svg
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="12765"
                width="20"
                height="20"
              >
                <path
                  d="M925.4 399.2c0.4 2.4 0.6 4.7 0.6 7.2v505.3c0 1.4-0.1 2.7-0.2 4.1-1.3 23.6-20.8 42.1-44.5 42.2H141c-24.6 0-44.6-20-44.6-44.6v-507c0-2.3 0.2-4.6 0.5-6.8-0.3-2.6-0.5-5.2-0.5-7.8V362l-0.2-0.1 116.9-202.3c10.2-17.8 28.9-29 49.4-29.6 4.3-1.3 8.7-2 13.2-2h470.5c4.8 0 9.6 0.8 14.2 2.3 20.3 0.8 38.9 12 49 29.6l116.8 202.3-0.6 0.4v29.2c0.2 2.5 0.1 5-0.2 7.4z m-79.4-36c-1.7-2.5-3.2-5.2-4.6-8L758.2 186H281.4l-87.2 177.2H846z m6.1 60H170.4v474.3h681.7V423.2z"
                  fill={navColor[2]}
                  p-id="12766"
                ></path>
                <path
                  d="M739.3 665.8h-240c-15.4 0-28-12.6-28-28s12.6-28 28-28h240c15.4 0 28 12.6 28 28s-12.6 28-28 28zM481.7 407.6V144.8c0-1.1 0.9-2 2-2H539c1.1 0 2 0.9 2 2v262.8c0 1.1-0.9 2-2 2h-55.3c-1.1 0-2-0.9-2-2zM739.8 793.9h-390c-15.4 0-28-12.6-28-28s12.6-28 28-28h390c15.4 0 28 12.6 28 28s-12.6 28-28 28z"
                  fill={navColor[2]}
                  p-id="12767"
                ></path>
              </svg>
            </Link>
          </div>
          <div>
            <Link
              to="/user"
              onClick={() => {
                changeBarColor(3);
              }}
            >
              <svg
                className="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="5190"
                width="20"
                height="20"
              >
                <path
                  d="M785.61 636.44c-18.96 0-34.35-15.35-34.38-34.31-0.03-18.99 15.33-34.41 34.31-34.45l137.52-0.26h0.07c18.96 0 34.35 15.35 34.38 34.31 0.03 18.99-15.33 34.41-34.31 34.45l-137.52 0.26h-0.07zM923.14 814.15H648.09c-18.99 0-34.38-15.39-34.38-34.38s15.39-34.38 34.38-34.38h275.05c18.99 0 34.38 15.39 34.38 34.38s-15.39 34.38-34.38 34.38zM923.14 992H648.09c-18.99 0-34.38-15.39-34.38-34.38 0-18.99 15.39-34.38 34.38-34.38h275.05c18.99 0 34.38 15.39 34.38 34.38 0 18.99-15.39 34.38-34.38 34.38zM510.57 578.74c-150.74 0-273.37-123.4-273.37-275.07C237.2 153.87 359.83 32 510.57 32s273.38 121.87 273.38 271.67c0 151.67-122.64 275.07-273.38 275.07z m0-477.98c-112.82 0-204.61 91.02-204.61 202.91 0 113.76 91.78 206.31 204.61 206.31s204.62-92.54 204.62-206.31c-0.01-111.89-91.8-202.91-204.62-202.91z"
                  fill={navColor[3]}
                  p-id="5191"
                ></path>
                <path
                  d="M100.86 992c-18.99 0-34.38-15.39-34.38-34.38 0-246.75 199.21-447.5 444.09-447.5 18.99 0 34.38 15.39 34.38 34.38 0 18.99-15.39 34.38-34.38 34.38-206.96 0-375.32 169.9-375.32 378.74-0.01 18.99-15.4 34.38-34.39 34.38z"
                  fill={navColor[3]}
                  p-id="5192"
                ></path>
              </svg>
            </Link>
          </div>
          <div style={{ position: "absolute", bottom: "40px", left: "40px" }}>
            <svg
              className="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="6912"
              width="23"
              height="23"
            >
              <path
                d="M832 500.6208c0 13.056-5.76 24.8768-14.8352 32.9856l-148.0768 132.896c-7.8976 7.0016-18.3488 11.264-29.7472 11.264-24.6016 0-44.5248-19.7888-44.5248-44.2496 0-13.1968 5.76-24.8768 14.8352-32.9792l62.048-55.6544L472.5632 544.8832c-24.5248 0-44.3904-19.7888-44.3904-44.3904 0-24.4608 19.8656-44.2496 44.3904-44.2496l199.136 0-62.048-55.6544c-9.0752-8.1088-14.8352-19.8592-14.8352-32.9792 0-24.4608 19.9232-44.256 44.5248-44.256 11.3984 0 21.8496 4.2624 29.7472 11.4048l148.0768 132.8896C826.24 475.7504 832 487.5712 832 500.6208M406.0096 216.64 280.8384 216.64l0 590.7264 125.1712 0c24.5312 0 44.3904 19.9232 44.3904 44.3904 0 24.6016-19.9296 44.2496-44.3904 44.2496L236.4544 896.0064c-24.5248 0-44.448-19.648-44.448-44.2496L192.0064 172.32C192 147.8592 211.9296 128 236.4544 128l169.5552 0c24.4544 0 44.3904 19.8592 44.3904 44.32C450.4 196.7808 430.5408 216.64 406.0096 216.64"
                fill="#5e5e5e"
                p-id="6913"
              ></path>
            </svg>
          </div>
        </MainBarBottom>
      </MainBar>
      <SubBar>
        <div style={{ marginTop: "25px" }}>
          <Title>快捷方式</Title>
          {subMenu.map((item) => {
            return (
              <SubItem>
                {Math.ceil(Math.random() * 10) % 2 == 1 ? (
                  <svg
                    className="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="8381"
                    width="12"
                    height="12"
                  >
                    <path
                      d="M512 512m-512 0a100 100 0 1 0 1024 0 100 100 0 1 0-1024 0Z"
                      fill="#ff6450"
                      p-id="8382"
                    ></path>
                  </svg>
                ) : (
                  <svg
                    className="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="9735"
                    width="12"
                    height="12"
                  >
                    <path
                      d="M1024 127.937531v767.625183c0 70.665495-57.272035 127.937531-127.937531 127.93753h-767.625183c-70.665495 0-127.937531-57.272035-127.93753-127.93753v-767.625183c0-70.665495 57.272035-127.937531 127.93753-127.937531h767.625183c70.665495 0 127.937531 57.272035 127.937531 127.937531z"
                      p-id="9736"
                      fill="#8b64fb"
                    ></path>
                  </svg>
                )}
                &nbsp;{item}
              </SubItem>
            );
          })}
        </div>
      </SubBar>
    </NavBarWrap>
  );
};

export default NavBar;
